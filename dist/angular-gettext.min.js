angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(t){return t}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,r,a,n,s){function u(){s.$broadcast("gettextLanguageChanged")}var c,i='<span id="test" title="test" class="tested">test</span>',l=angular.element("<span>"+i+"</span>").html()!==i,g=function(t){return c.debug&&c.currentLanguage!==c.baseLanguage?c.debugPrefix+t:t},o=function(t){return c.showTranslatedMarkers?c.translatedMarkerPrefix+t+c.translatedMarkerSuffix:t};return c={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:a("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,u()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,r){this.strings[e]||(this.strings[e]={});var a=t(e,1);for(var n in r){var s=r[n];if(l&&(n=angular.element("<span>"+n+"</span>").html()),angular.isString(s)||angular.isArray(s)){var c={};c.$$noContext=s,s=c}this.strings[e][n]||(this.strings[e][n]={});for(var i in s){var g=s[i];angular.isArray(g)?this.strings[e][n][i]=g:(this.strings[e][n][i]=[],this.strings[e][n][i][a]=g)}}u()},getStringFormFor:function(e,r,a,n){return e?(l&&(r=angular.element("<span>"+r+"</span>").html()),(((this.strings[e]||{})[r]||{})[n||"$$noContext"]||[])[t(e,a)]):null},getString:function(t,r,a){var s=e(this.currentLanguage);return t=this.getStringFormFor(this.currentLanguage,t,1,a)||this.getStringFormFor(s,t,1,a)||g(t),t=r?n(t)(r):t,o(t)},getPlural:function(t,r,a,s,u){var c=e(this.currentLanguage);return r=this.getStringFormFor(this.currentLanguage,r,t,u)||this.getStringFormFor(c,r,t,u)||g(1===t?r:a),s&&(s.$count=t,r=n(r)(s)),o(r)},loadRemote:function(t){return r({method:"GET",url:t,cache:c.cache}).then(function(t){var e=t.data;for(var r in e)c.setStrings(r,e[r]);return t})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(t,e,r,a,n,s){function u(t){return s.lcFirst(t.replace(l,""))}function c(t,e,r){var a=Object.keys(e).filter(function(t){return s.startsWith(t,l)&&t!==l});if(!a.length)return null;var n=angular.extend({},t),c=[];return a.forEach(function(a){var s=t.$watch(e[a],function(t){var e=u(a);n[e]=t,r(n)});c.push(s)}),t.$on("$destroy",function(){c.forEach(function(t){t()})}),n}var i=parseInt((/msie (\d+)/.exec(angular.lowercase(n.navigator.userAgent))||[])[1],10),l="translateParams";return{restrict:"AE",terminal:!0,compile:function(n,u){s.assert(!u.translatePlural||u.translateN,"translate-n","translate-plural"),s.assert(!u.translateN||u.translatePlural,"translate-plural","translate-n");var l=s.trim(n.html()),g=u.translatePlural,o=u.translateContext;return i<=8&&"\x3c!--IE fix--\x3e"===l.slice(-13)&&(l=l.slice(0,-13)),{post:function(n,u,i){function f(e){e=e||null;var c;g?((n=m||(m=n.$new())).$count=h(n),c=t.getPlural(n.$count,l,g,e,o)):c=t.getString(l,e,o);var i=u.contents();if(i||c)if(c!==s.trim(i.html())){var f=angular.element("<span>"+c+"</span>");a(f.contents())(n);var x=f.contents();r.enter(x,u),r.leave(i)}else d&&a(i)(n)}var h=e(i.translateN),m=null,d=!0,x=c(n,i,f);f(x),d=!1,i.translateN&&n.$watch(i.translateN,function(){f(x)}),n.$on("gettextLanguageChanged",function(){f(x)})}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",function(){var t={},e=/([^_]+)_[^_]+$/;return function(r){if(t[r])return t[r];var a=e.exec(r);return a?(t[r]=a[1],a[1]):null}}),angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,r){return t.getString(e,null,r)}return e.$stateful=!0,e}]),angular.module("gettext").factory("gettextPlurals",function(){function t(t){return e[t]||(e[t]=t.split(/\-|_/).shift()),e[t]}var e={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(e,r){switch(t(e)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return r%10!=1||r%100==11?1:0;case"jv":return 0!=r?1:0;case"mk":return 1==r||r%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return r>1?1:0;case"lv":return r%10==1&&r%100!=11?0:0!=r?1:2;case"lt":return r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2;case"mnk":return 0==r?0:1==r?1:2;case"ro":return 1==r?0:0==r||r%100>0&&r%100<20?1:2;case"pl":return 1==r?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2;case"cs":case"sk":return 1==r?0:r>=2&&r<=4?1:2;case"sl":return r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0;case"mt":return 1==r?0:0==r||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3;case"gd":return 1==r||11==r?0:2==r||12==r?1:r>2&&r<20?2:3;case"cy":return 1==r?0:2==r?1:8!=r&&11!=r?2:3;case"kw":return 1==r?0:2==r?1:3==r?2:3;case"ga":return 1==r?0:2==r?1:r<7?2:r<11?3:4;case"ar":return 0==r?0:1==r?1:2==r?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5;default:return 1!=r?1:0}}}),angular.module("gettext").factory("gettextUtil",function(){return{trim:String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t},assert:function(t,e,r){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+r+" attribute.")},startsWith:function(t,e){return 0===t.indexOf(e)},lcFirst:function(t){return t.charAt(0).toLowerCase()+t.substr(1)}}});